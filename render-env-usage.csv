"env","usage"
"GHCR_PAT",""
"DEDUPE_ENABLED","src/server/middleware/dedupe.js:15:  if (!rawUrl || (process.env.DEDUPE_ENABLED && process.env.DEDUPE_ENABLED.toLowerCase() === 'false')) {"
"REDIS_URL",".github/workflows/ci-deploy.yml:151:              -e REDIS_URL=""${{ secrets.REDIS_URL }}"" \|.github/workflows/post-deploy-smoke.yml:12:          REDIS_URL: ${{ secrets.REDIS_URL }}|.github/workflows/post-deploy-smoke.yml:14:          node -e ""const Redis=require('ioredis');(async()=>{const r=new Redis(process.env.REDIS_URL);try{console.log(await r.ping());await r.quit()}catch(e){console.error(e);process.exit(1)}})();""|src/jobs/retry-worker.js:8:const redisUrl = process.env.REDIS_URL;|src/jobs/retry-worker.js:10:  console.error(""retry-worker: REDIS_URL not set; exiting"");|src/server/middleware/dedupe.js:14:  const rawUrl = process.env.REDIS_URL;|src/server/middleware/dedupe.js:16:    console.log('DEDPUPE-MW: REDIS_URL not set or dedupe disabled; dedupe disabled');"
"NODE_ENV",".github/workflows/ci-deploy.yml:150:              -e NODE_ENV=production \|Dockerfile:6:ENV NODE_ENV=production|src/lib/config.js:3:  const cfg = { PORT: process.env.PORT || 3000, BOT_TOKEN: process.env.BOT_TOKEN || null, NODE_ENV: process.env.NODE_ENV || 'production' };"
"ADMIN_KEY","src/server/routes/admin-webhook.js:8:  if (!adminKey || adminKey !== String(process.env.ADMIN_KEY || '')) {"
"LOG_LEVEL",""
"WEBHOOK_URL","src/server/routes/admin-webhook.js:22:  const webhookUrl = process.env.WEBHOOK_URL |||src/server/routes/admin-webhook.js:28:      error: 'missing TELEGRAM_BOT_TOKEN or WEBHOOK_URL',|src/server/utils/telegramSend.js:71:    const webhookUrl = process.env.WEBHOOK_URL || (process.env.RENDER_EXTERNAL_URL ? process.env.RENDER_EXTERNAL_URL + ""/webhook/telegram"" : null);"
"USE_STUB_AI","src/server/lib/ai-config.js:3: * Provider priority: OPEN_ROUTER_KEY -> RAPID_API_KEY -> OPENAI_API_KEY -> USE_STUB_AI|src/server/lib/ai-config.js:12:const USE_STUB_AI = (process.env.USE_STUB_AI || ""true"").toLowerCase() === ""true"";|src/server/lib/ai-config.js:23:module.exports = { getProvider, isStub, OPEN_ROUTER_KEY, RAPID_API_KEY, OPENAI_API_KEY, USE_STUB_AI };|src/server/utils/openai.js:23:const USE_STUB_AI = (process.env.USE_STUB_AI || ""false"").toLowerCase() === ""true"";|src/server/utils/openai.js:113:  if (USE_STUB_AI) {"
"RAPID_API_KEY","src/server/lib/ai-config.js:3: * Provider priority: OPEN_ROUTER_KEY -> RAPID_API_KEY -> OPENAI_API_KEY -> USE_STUB_AI|src/server/lib/ai-config.js:10:const RAPID_API_KEY = loadedEnv(""RAPID_API_KEY"");|src/server/lib/ai-config.js:16:  if (RAPID_API_KEY) return { type: ""rapidapi"", key: RAPID_API_KEY, name: ""RapidAPI"" };|src/server/lib/ai-config.js:23:module.exports = { getProvider, isStub, OPEN_ROUTER_KEY, RAPID_API_KEY, OPENAI_API_KEY, USE_STUB_AI };|src/server/utils/openai.js:33:  return ""BETRIX (stub): I'm currently running in fallback mode. Set OPEN_ROUTER_KEY or RAPID_API_KEY to enable live AI."";|src/server/utils/openai.js:38:  const key = process.env.RAPID_API_KEY;|src/server/utils/openai.js:39:  if (!key) throw new Error(""RAPID_API_KEY missing"");|src/server/utils/openai.js:119:  if (process.env.RAPID_API_KEY) {"
"RENDER_SERVICE_ID",""
"RENDER_API_KEY",".github/workflows/ci-smoke-test.yml:43:          RENDER_API_KEY: ${{ secrets.RENDER_API_KEY }}|.github/workflows/ci-smoke-test.yml:45:          pwsh -NoLogo -NoProfile -Command './scripts/check_render_config.ps1 -ServiceId ""srv-d4546263jp1c73eiu4n0"" -RenderApiKey ""$env:RENDER_API_KEY""'|fix-workflow.ps1:10:$pattern = '\$\s*\{\s*\{\s*secrets\.\$renderApiKeyPlaceholder\s*\}\s*\}|\$\s*\{\s*\{\s*secrets\.RENDER_API_KEY\s*\}\s*\}'|fix-workflow.ps1:11:$replacement = '${{ secrets.RENDER_API_KEY }}'|fix-workflow.ps1:43:Write-Host 'Done. The workflow now references the literal ${{ secrets.RENDER_API_KEY }} for the Render API key.'"
"ADMIN_USER_IDS","functions/webhook.js:14: * BOT_TOKEN, BOT_USERNAME, OPENAI_API_KEY /* (deprecated; calls now routed to utils/openai.ask) */, UPSTASH_REST_URL, UPSTASH_REST_TOKEN, ADMIN_USER_IDS|functions/webhook.js:32:const ADMIN_IDS = (process.env.ADMIN_USER_IDS || """").split("","").map(s => s.trim()).filter(Boolean).map(Number);"
"DEPLOY_ENV",""
"BURST_CAPACITY","functions/webhook.js:36:const BURST_CAPACITY = parseInt(process.env.BURST_CAPACITY || ""6"", 10);|functions/webhook.js:93:    if (!b) { b = { tokens: BURST_CAPACITY, lastRefill: now }; inMemory.rateBuckets.set(chatId, b); }|functions/webhook.js:96:    if (refillCount > 0) { b.tokens = Math.min(BURST_CAPACITY, b.tokens + refillCount); b.lastRefill = b.lastRefill + Math.floor(elapsed / intervalMs) * intervalMs; }|functions/webhook.js:103:    let bucket = raw ? JSON.parse(raw) : { tokens: BURST_CAPACITY, lastRefill: Date.now() };|functions/webhook.js:108:      bucket.tokens = Math.min(BURST_CAPACITY, bucket.tokens + refillCount);"
"RATE_LIMIT_PER_MINUTE","functions/webhook.js:35:const RATE_LIMIT_PER_MINUTE = parseInt(process.env.RATE_LIMIT_PER_MINUTE || ""12"", 10);|functions/webhook.js:84:const REFILL_AMOUNT = Math.max(1, Math.floor(RATE_LIMIT_PER_MINUTE / (60 / RATE_REFILL_SECONDS)));|src/server/utils/openai.js:24:const RATE_LIMIT_PER_MINUTE = Number(process.env.RATE_LIMIT_PER_MINUTE || 30);|src/server/utils/openai.js:182:    if (st.count > RATE_LIMIT_PER_MINUTE) return res.status(429).send({ ok: false, error: ""rate_limited"" });"
"DEFAULT_TIMEZONE",""
"REWARD_REFERRER_AMOUNT","functions/webhook.js:15: * Optional: THEODDS_API_KEY, REWARD_SIGNUP_AMOUNT, REWARD_REFERRER_AMOUNT, MINIMUM_AGE|functions/webhook.js:39:const REWARD_REFERRER_AMOUNT = parseInt(process.env.REWARD_REFERRER_AMOUNT || ""50"", 10);|functions/webhook.js:565:      const txt = `Share this link to earn ${REWARD_REFERRER_AMOUNT} coins when someone signs up with your link. New users get ${REWARD_SIGNUP_AMOUNT} coins on signup:\n${link}`;"
"REWARD_SIGNUP_AMOUNT","functions/webhook.js:15: * Optional: THEODDS_API_KEY, REWARD_SIGNUP_AMOUNT, REWARD_REFERRER_AMOUNT, MINIMUM_AGE|functions/webhook.js:38:const REWARD_SIGNUP_AMOUNT = parseInt(process.env.REWARD_SIGNUP_AMOUNT || ""20"", 10);|functions/webhook.js:565:      const txt = `Share this link to earn ${REWARD_REFERRER_AMOUNT} coins when someone signs up with your link. New users get ${REWARD_SIGNUP_AMOUNT} coins on signup:\n${link}`;"
"WEBHOOK_SECRET","functions/webhook.js:292:    if (process.env.WEBHOOK_SECRET && qs.secret !== process.env.WEBHOOK_SECRET) {|server.js.backup.20251105-164509:66://  - Reads BOT_TOKEN and optional WEBHOOK_SECRET from env|server.js.backup.20251105-164509:70:    const expectedSecret = process.env.WEBHOOK_SECRET;|server/webhook.js.disabled:19:const expectedSecret = (process.env.WEBHOOK_SECRET || '').trim();"
"THEODDS_API_KEY",".github/workflows/post-deploy-smoke.yml:17:          THEODDS_API_KEY: ${{ secrets.THEODDS_API_KEY }}|.github/workflows/post-deploy-smoke.yml:19:          curl -fsS ""https://api.the-odds-api.com/v4/sports?apiKey=${{ THEODDS_API_KEY }}""|functions/webhook.js:9: * - TheOddsAPI integration for live fixtures/odds when THEODDS_API_KEY is present|functions/webhook.js:15: * Optional: THEODDS_API_KEY, REWARD_SIGNUP_AMOUNT, REWARD_REFERRER_AMOUNT, MINIMUM_AGE|functions/webhook.js:19: * - If THEODDS_API_KEY missing: uses stubbed matches; still provides UI and subscriptions|functions/webhook.js:31:const THEODDS_API_KEY = process.env.THEODDS_API_KEY || """";|functions/webhook.js:191:  if (!THEODDS_API_KEY) return null;|functions/webhook.js:192:  const res = await fetch(`${THEODDS_BASE}/sports?apiKey=${THEODDS_API_KEY}`);|functions/webhook.js:197:  if (!THEODDS_API_KEY) return null;|functions/webhook.js:200:  const res = await fetch(`${THEODDS_BASE}/sports/${sportKey}/odds?regions=${regions}&markets=${markets}&oddsFormat=decimal&dateFormat=iso&apiKey=${THEODDS_API_KEY}`);|functions/webhook.js:311:        if (THEODDS_API_KEY) {|functions/webhook.js:335:        if (THEODDS_API_KEY) {|functions/webhook.js:364:        if (THEODDS_API_KEY) {|functions/webhook.js:447:      if (THEODDS_API_KEY) {|functions/webhook.js:469:      if (THEODDS_API_KEY) {"
